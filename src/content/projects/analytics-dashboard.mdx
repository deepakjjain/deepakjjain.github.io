---
title: "Analytics Dashboard"
description: "Internal business intelligence platform with a Python/FastAPI backend, background job processing, and a React dashboard delivering sub-second queries over 50M+ rows."
stack: ["Python", "FastAPI", "PostgreSQL", "Redis", "Celery", "React", "TypeScript", "Docker"]
role: "Lead Full-Stack Developer"
github: "https://github.com/deepakjjain/analytics-dashboard"
featured: true
order: 3
---

## Challenge & Context

A growing SaaS company had a reporting system where complex queries against a 50M-row events table were taking 45–90 seconds to return. Sales and ops teams were refreshing dashboards multiple times a day and complaining the data was effectively unusable.

The ask: make reports feel instant, support date-range slicing, and add scheduled email delivery without rewriting the entire data model.

## Architecture Decisions

**Materialized views for common aggregations** — Pre-computed daily/weekly/monthly rollups in PostgreSQL. A `REFRESH MATERIALIZED VIEW CONCURRENTLY` job runs every hour via Celery Beat. Reduced the most common queries from 60s to under 200ms.

**Redis caching with per-user TTLs** — Query results cached for 10 minutes. Cache key includes user ID + query parameters (serialised + hashed). Prevents cross-user data leakage while still serving fast repeated loads.

**Celery + Redis for background processing** — Heavy exports (CSV, PDF) triggered as async tasks. Users get an immediate "processing" state with a webhook/polling mechanism to retrieve results. Eliminates request timeouts for large datasets.

**FastAPI for the API layer** — Async request handling via `asyncpg` (non-blocking PostgreSQL driver). Pydantic schemas for strict input validation and auto-generated OpenAPI docs.

**React Query for data fetching** — Client-side caching + background refetch strategy. Stale-while-revalidate keeps dashboards feeling live without hammering the API.

## What I Built

- FastAPI REST API with JWT auth, role-based access control, and rate limiting (slowapi)
- Celery task queue for: scheduled report generation, email delivery (SendGrid), and CSV/PDF exports
- React dashboard with filterable charts (Recharts), date-range pickers, and saved views
- Admin panel for managing user permissions, viewing job queue status, and triggering manual refreshes
- Automated test suite: pytest for API (92% coverage), Playwright for E2E dashboard flows

## Result

- **Query latency**: 45–90s → 150–400ms (−99%) for all pre-defined report types
- **API uptime**: 99.94% over 12 months (monitored via Better Uptime)
- **Export throughput**: 10,000-row CSV export completes in under 8 seconds (down from 3-minute timeout)
- **Test coverage**: 92% backend coverage — caught 3 regression bugs before production release
